/*! jqueryanimatesprite - v1.3.0 - 2014-05-23
* http://blaiprat.github.io/jquery.animateSprite/
* Copyright (c) 2014 blai Pratdesaba; Licensed MIT */
(function(t){"use strict";var i=function(i){return this.each(function(){var n=t(this),e=n.data("animateSprite"),a=function(t){var i=n.css("background-image").replace(/url\((['"])?(.*?)\1\)/gi,"$2"),e=new Image;e.src=i,e.onload=function(){var i=e.width,n=e.height;t(i,n)}};e||(n.data("animateSprite",{settings:t.extend({width:n.width(),height:n.height(),totalFrames:!1,columns:!1,fps:12,complete:function(){},loop:!1,autoPlay:!0},i),currentFrame:0,controlAnimation:function(){var t=function(t,i){if(t++,t>=i){if(this.settings.loop!==!0)return this.settings.complete(),clearInterval(this.interval),!1;t=0}return t};if(this.settings.animations===undefined)n.animateSprite("frame",this.currentFrame),this.currentFrame=t.call(this,this.currentFrame,this.settings.totalFrames);else{if(this.currentAnimation===undefined)for(var i in this.settings.animations){this.currentAnimation=this.settings.animations[i];break}var a=this.currentAnimation[this.currentFrame];n.animateSprite("frame",a),this.currentFrame=t.call(this,this.currentFrame,this.currentAnimation.length)}e.controlTimer()},controlTimer:function(){var t=1e3/e.settings.fps;e.settings.duration!==undefined&&(t=e.settings.duration/e.settings.totalFrames),e.interval=setTimeout(function(){e.controlAnimation()},t)}}),e=n.data("animateSprite"),e.settings.columns?e.controlTimer():a(function(t,i){if(e.settings.columns=Math.round(t/e.settings.width),!e.settings.totalFrames){var n=Math.round(i/e.settings.height);e.settings.totalFrames=e.settings.columns*n}e.controlTimer()}))})},n=function(i){return this.each(function(){if(t(this).data("animateSprite")!==undefined){var n=t(this),e=n.data("animateSprite"),a=Math.floor(i/e.settings.columns),r=i%e.settings.columns;n.css("background-position",-e.settings.width*r+"px "+-e.settings.height*a+"px")}})},e=function(){return this.each(function(){var i=t(this),n=i.data("animateSprite");clearInterval(n.interval)})},a=function(){return this.each(function(){var i=t(this),n=i.data("animateSprite");i.animateSprite("stopAnimation"),n.controlTimer()})},r=function(){return this.each(function(){var i=t(this),n=i.data("animateSprite");i.animateSprite("stopAnimation"),n.currentFrame=0,n.controlTimer()})},s=function(i){return this.each(function(){var n=t(this),e=n.data("animateSprite");"string"==typeof i&&e.settings.animations[i]!==e.currentAnimation&&(n.animateSprite("stopAnimation"),e.currentAnimation=e.settings.animations[i],e.currentFrame=0,e.controlTimer())})},o=function(i){return this.each(function(){var n=t(this),e=n.data("animateSprite");e.settings.fps=i})},c={init:i,frame:n,stop:e,resume:a,restart:r,play:s,stopAnimation:e,resumeAnimation:a,restartAnimation:r,fps:o};t.fn.animateSprite=function(i){return c[i]?c[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?(t.error("Method "+i+" does not exist on jQuery.animateSprite"),undefined):c.init.apply(this,arguments)}})(jQuery,window),function(t){"use strict";var i=function(i){return this.each(function(){var n=t(this),e=n.data("animateSprite"),a=function(t){var i=n.css("background-image").replace(/url\((['"])?(.*?)\1\)/gi,"$2"),e=new Image;e.src=i,e.onload=function(){var i=e.width,n=e.height;t(i,n)}};e||(n.data("animateSprite",{settings:t.extend({width:n.width(),height:n.height(),totalFrames:!1,columns:!1,fps:12,complete:function(){},loop:!1,autoPlay:!0},i),currentFrame:0,controlAnimation:function(){var t=function(t,i){if(t++,t>=i){if(this.settings.loop!==!0)return this.settings.complete(),clearInterval(this.interval),!1;t=0}return t};if(void 0===this.settings.animations)n.animateSprite("frame",this.currentFrame),this.currentFrame=t.call(this,this.currentFrame,this.settings.totalFrames);else{if(void 0===this.currentAnimation)for(var i in this.settings.animations){this.currentAnimation=this.settings.animations[i];break}var e=this.currentAnimation[this.currentFrame];n.animateSprite("frame",e),this.currentFrame=t.call(this,this.currentFrame,this.currentAnimation.length)}},controlTimer:function(){var t=1e3/e.settings.fps;void 0!==e.settings.duration&&(t=e.settings.duration/e.settings.totalFrames),e.interval=setInterval(function(){e.controlAnimation()},t)}}),e=n.data("animateSprite"),e.settings.columns?e.controlTimer():a(function(t,i){if(e.settings.columns=Math.round(t/e.settings.width),!e.settings.totalFrames){var n=Math.round(i/e.settings.height);e.settings.totalFrames=e.settings.columns*n}e.controlTimer()}))})},n=function(i){return this.each(function(){var n=t(this),e=n.data("animateSprite"),a=Math.floor(i/e.settings.columns),r=i%e.settings.columns;n.css("background-position",-e.settings.width*r+"px "+-e.settings.height*a+"px")})},e=function(){return this.each(function(){var i=t(this),n=i.data("animateSprite");clearInterval(n.interval)})},a=function(){return this.each(function(){var i=t(this),n=i.data("animateSprite");i.animateSprite("stopAnimation"),n.controlTimer()})},r=function(){return this.each(function(){var i=t(this),n=i.data("animateSprite");i.animateSprite("stopAnimation"),n.currentFrame=0,n.controlTimer()})},s=function(i){return this.each(function(){var n=t(this),e=n.data("animateSprite");"string"==typeof i&&e.settings.animations[i]!==e.currentAnimation&&(n.animateSprite("stopAnimation"),e.currentAnimation=e.settings.animations[i],e.currentFrame=0,e.controlTimer())})},o={init:i,frame:n,stop:e,resume:a,restart:r,play:s,stopAnimation:e,resumeAnimation:a,restartAnimation:r};t.fn.animateSprite=function(i){return o[i]?o[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?(t.error("Method "+i+" does not exist on jQuery.animateSprite"),void 0):o.init.apply(this,arguments)}}(jQuery,window);